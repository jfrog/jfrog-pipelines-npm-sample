resources:
  - name: npm_repo_jfp_venortso
    type: GitRepo
    configuration:
      # SCM integration where the repository is located
      gitProvider: {{ .Values.myRepo.gitProvider }}
      # Repository path, including org name/repo name
      path: {{ .Values.myRepo.path }}
      branches:
        # Specifies which branches will trigger dependent steps
        include: master

pipelines:
  - name: venortso_webhook_payload_test
    steps:
        - name: Send Webhook Payload
          type: Bash

          configuration:
            inputResources:
              - name: npm_repo_jfp_venortso         # required
                trigger: false

          execution:
              onExecute:
                - echo "Running Bash"
                - export response="Test Payload"
                - echo "response = ${response}"

                #send response as payload
                - curl -X POST -H "Content-Type:application/json" -d "${response}" https://webhook.site/3bf1e646-e0c0-4887-ba73-9dbc2869dd23